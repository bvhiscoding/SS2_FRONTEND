<nz-layout class="min-h-full">
  <!-- Modified Sidebar - Removed collapsible functionality -->
  <nz-sider 
    [nzWidth]="280" 
    nzTheme="light" 
    class="main-sidebar shadow-xl border-r overflow-hidden">
    
    <!-- Logo & Profile Section -->
    <div class="sidebar-profile-section">      <!-- Profile Section - Always Expanded -->
      <div class="flex flex-col items-center pt-8 pb-6">        <div class="relative">          <!-- Profile Image with Status Indicator -->
          <app-user-avatar
            [fullName]="userName"
            [imageUrl]="null"
            size="xl"
            customClass="border-4 border-white shadow-lg">
          </app-user-avatar>
        </div>
        
        <!-- User Info -->
        <h3 class="text-lg font-semibold text-gray-800 mt-2">{{userName}}</h3>
        <div class="px-3 py-1 bg-primary/10 rounded-full text-primary text-xs font-medium mt-1">
          {{role[0] === 'Administrator' ? 'Quản trị viên' : 'Người dùng'}}
        </div>
      </div>
      
      <!-- Divider -->
      <div class="mx-5 border-b border-gray-200 opacity-60"></div>
    </div>
    
    <!-- Navigation Menu -->
    <div class="sidebar-menu-container py-4 px-3">
      <!-- Admin Menu -->
      <div *ngIf="canActive">
        <div class="menu-category">
          <span class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 mb-2 block">
            Chức năng chính
          </span>
        </div>
        
        <ul nz-menu [nzMode]="'inline'" class="custom-menu">
          <!-- Dashboard -->
          <li nz-menu-item [routerLink]="['/', 'statistical']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-chart-bar"></i>
              </span>
              <span class="menu-text">Thống kê</span>
            </div>
          </li>
          
          <!-- User Management -->
          <li nz-menu-item [routerLink]="['/', 'user-management']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-users"></i>
              </span>
              <span class="menu-text">{{'Menu.userManagement'| translate }}</span>
            </div>
          </li>
          
          <!-- Election Management Section -->
          <div class="menu-category mt-6">
            <span class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 mb-2 block">
              Quản lý bầu cử
            </span>
          </div>
          
          <!-- Election Items -->
          <li nz-menu-item [routerLink]="['/', 'slection-ticket']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-vote-yea"></i>
              </span>
              <span class="menu-text">Tiến hành bầu cử</span>
            </div>
          </li>
          
          <li nz-menu-item [routerLink]="['/', 'slection-follow']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-chart-line"></i>
              </span>
              <span class="menu-text">Theo dõi bầu cử</span>
            </div>
          </li>
          
          <li nz-menu-item [routerLink]="['/', 'slection-management']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-tasks"></i>
              </span>
              <span class="menu-text">Quản lý cuộc bầu cử</span>
            </div>
          </li>
          
          <li nz-menu-item [routerLink]="['/', 'level-management']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-sitemap"></i>
              </span>
              <span class="menu-text">Quản lý chức vụ</span>
            </div>
          </li>
          
          <!-- Settings Section -->
          <div class="menu-category mt-6">
            <span class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 mb-2 block">
              Cài đặt & Tài khoản
            </span>
          </div>
          
          <!-- Settings Dropdown -->
          <li nz-submenu nzTitle="{{'Menu.setting'| translate }}" nzIcon="setting">
            <ul>
              <li nz-menu-item [routerLink]="['/', 'user-infor', userInfor.sub]" routerLinkActive="active-menu-item">
                <div class="menu-item-content">
                  <span class="menu-icon">
                    <i class="fas fa-user-circle"></i>
                  </span>
                  <span class="menu-text">{{'Menu.userInfor'| translate }}</span>
                </div>
              </li>
              <li nz-menu-item [routerLink]="['/', 'setting']" routerLinkActive="active-menu-item">
                <div class="menu-item-content">
                  <span class="menu-icon">
                    <i class="fas fa-cog"></i>
                  </span>
                  <span class="menu-text">Cài đặt hệ thống</span>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
      
      <!-- Regular User Menu (Non-Admin) -->
      <div *ngIf="!canActive">
        <!-- Similar structure as admin menu but with fewer options -->
        <ul nz-menu [nzMode]="'inline'" class="custom-menu">
          <li nz-menu-item [routerLink]="['/', 'statistical']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-chart-bar"></i>
              </span>
              <span class="menu-text">Thống kê</span>
            </div>
          </li>
          
          <li nz-menu-item [routerLink]="['/', 'slection-ticket']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-vote-yea"></i>
              </span>
              <span class="menu-text">Tiến hành bầu cử</span>
            </div>
          </li>
          
          <li nz-menu-item [routerLink]="['/', 'slection-follow']" routerLinkActive="active-menu-item">
            <div class="menu-item-content">
              <span class="menu-icon">
                <i class="fas fa-chart-line"></i>
              </span>
              <span class="menu-text">Theo dõi bầu cử</span>
            </div>
          </li>
          
          <!-- Settings Section -->
          <div class="menu-category mt-6">
            <span class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-4 mb-2 block">
              Cài đặt & Tài khoản
            </span>
          </div>
          
          <!-- Settings Dropdown -->
          <li nz-submenu nzTitle="{{'Menu.setting'| translate }}" nzIcon="setting">
            <ul>
              <li nz-menu-item [routerLink]="['/', 'user-infor', userInfor.sub]" routerLinkActive="active-menu-item">
                <div class="menu-item-content">
                  <span class="menu-icon">
                    <i class="fas fa-user-circle"></i>
                  </span>
                  <span class="menu-text">{{'Menu.userInfor'| translate }}</span>
                </div>
              </li>
              <li nz-menu-item [routerLink]="['/', 'setting']" routerLinkActive="active-menu-item">
                <div class="menu-item-content">
                  <span class="menu-icon">
                    <i class="fas fa-cog"></i>
                  </span>
                  <span class="menu-text">Cài đặt hệ thống</span>
                </div>
              </li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
    
    <!-- Logout Button -->
    <div class="sidebar-footer">
      <button class="logout-button" (click)="handleLogout()">
        <i class="fas fa-sign-out-alt"></i>
        <span>Đăng xuất</span>
      </button>
    </div>
  </nz-sider>
  
  <!-- Main Content Area -->
  <nz-layout class="bg-gray-50">
    <nz-content>
      <div class="h-full px-1">
        <router-outlet></router-outlet>
      </div>
    </nz-content>
  </nz-layout>
</nz-layout>